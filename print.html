<!DOCTYPE HTML>
<html lang="es" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Patrones de Diseños en Java</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introdución</a></li><li class="chapter-item expanded "><a href="creational/patrones-creacionales.html"><strong aria-hidden="true">1.</strong> Patrones Creacionales</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="creational/factory-method.html"><strong aria-hidden="true">1.1.</strong> Factory Method</a></li><li class="chapter-item expanded "><a href="creational/abstract-factory.html"><strong aria-hidden="true">1.2.</strong> Abstract Factory</a></li><li class="chapter-item expanded "><a href="creational/singleton.html"><strong aria-hidden="true">1.3.</strong> Singleton</a></li><li class="chapter-item expanded "><a href="creational/builder.html"><strong aria-hidden="true">1.4.</strong> Builder</a></li><li class="chapter-item expanded "><a href="creational/prototype.html"><strong aria-hidden="true">1.5.</strong> Prototype</a></li></ol></li><li class="chapter-item expanded "><a href="behavioral/patrones-de-comportamiento.html"><strong aria-hidden="true">2.</strong> Patrones de Comportamiento</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="behavioral/pipeline.html"><strong aria-hidden="true">2.1.</strong> Pipeline</a></li><li class="chapter-item expanded "><a href="behavioral/chain-of-responsibility.html"><strong aria-hidden="true">2.2.</strong> Chain Of Responsibility</a></li><li class="chapter-item expanded "><a href="behavioral/strategy.html"><strong aria-hidden="true">2.3.</strong> Strategy</a></li><li class="chapter-item expanded "><a href="behavioral/memento.html"><strong aria-hidden="true">2.4.</strong> Memento</a></li><li class="chapter-item expanded "><a href="behavioral/observer.html"><strong aria-hidden="true">2.5.</strong> Observer</a></li><li class="chapter-item expanded "><a href="behavioral/visitor.html"><strong aria-hidden="true">2.6.</strong> Visitor</a></li><li class="chapter-item expanded "><a href="behavioral/template-method.html"><strong aria-hidden="true">2.7.</strong> Template Method</a></li><li class="chapter-item expanded "><a href="behavioral/state.html"><strong aria-hidden="true">2.8.</strong> State</a></li><li class="chapter-item expanded "><a href="behavioral/mediator.html"><strong aria-hidden="true">2.9.</strong> Mediator</a></li><li class="chapter-item expanded "><a href="behavioral/iterator.html"><strong aria-hidden="true">2.10.</strong> Iterator</a></li><li class="chapter-item expanded "><a href="behavioral/command.html"><strong aria-hidden="true">2.11.</strong> Command</a></li></ol></li><li class="chapter-item expanded "><a href="structural/patrones-estructurales.html"><strong aria-hidden="true">3.</strong> Patrones Estructurales</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="structural/adapter.html"><strong aria-hidden="true">3.1.</strong> Adapter</a></li><li class="chapter-item expanded "><a href="structural/bridge.html"><strong aria-hidden="true">3.2.</strong> Bridge</a></li><li class="chapter-item expanded "><a href="structural/composite.html"><strong aria-hidden="true">3.3.</strong> Composite</a></li><li class="chapter-item expanded "><a href="structural/decorator.html"><strong aria-hidden="true">3.4.</strong> Decorator</a></li><li class="chapter-item expanded "><a href="structural/facade.html"><strong aria-hidden="true">3.5.</strong> Facade</a></li><li class="chapter-item expanded "><a href="structural/proxy.html"><strong aria-hidden="true">3.6.</strong> Proxy</a></li><li class="chapter-item expanded "><a href="structural/flyweight.html"><strong aria-hidden="true">3.7.</strong> Flyweight</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="book.html">Acerca de este Libro </a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Patrones de Diseños en Java</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/sauljabin/java-design-patterns" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="patrones-de-diseño-en-java"><a class="header" href="#patrones-de-diseño-en-java">Patrones de Diseño en Java</a></h1>
<p>Este proyecto recoge los patrones de diseño más comunes
para explicarlos en español con ejemplos. Intenta explorar los patrones principales
e intenta ser un recurso que puede ayudar a esos desarrolladores y desarrolladoras que estan empezando a
descubrir estos mismos.</p>
<h2 id="enlaces"><a class="header" href="#enlaces">Enlaces</a></h2>
<p>A continuación se listan algunos enlaces que te ayudaran a ahondar en este tema:</p>
<ul>
<li><a href="https://refactoring.guru">refactoring.guru</a></li>
<li><a href="http://www.mcdonaldland.info/files/designpatterns/designpatternscard.pdf">mcdonaldland.info</a></li>
<li><a href="http://java-design-patterns.com/patterns/">java-design-patterns.com</a></li>
<li><a href="https://es.wikipedia.org/wiki/Patr%C3%B3n_de_dise%C3%B1o">wikipedia</a></li>
</ul>
<h2 id="dependencias"><a class="header" href="#dependencias">Dependencias</a></h2>
<ul>
<li><a href="https://www.java.com/en/download/">java 11</a></li>
<li><a href="https://www.docker.com/">docker</a></li>
<li><a href="https://docs.docker.com/compose/cli-command/">docker compose</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="patrones-creacionales"><a class="header" href="#patrones-creacionales">Patrones Creacionales</a></h1>
<p>Los patrones de diseño creacional proporcionan varios mecanismos de creación de objetos, 
que aumentan la flexibilidad y la reutilización del código existente.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="factory-method"><a class="header" href="#factory-method">Factory Method</a></h1>
<p>Crea objetos de una misma familia usando polimorfismo.
Permite abstraernos de como fue creado el objeto, generalmente
cuando es difícil de construir, no sabemos explícitamente cuál es la clase
a instanciar, o por último no es necesario saber cuál es la clase a instanciar.</p>
<p>En el ejemplo se asume que la aplicación le permite al usuario pagar
con efectivo o con tarjeta de crédito. Se crean dos clases de tipo pago,
cada una con un comportamiento diferente, se utiliza un factory para 
obtener la clase correcta según sea el caso. Código <a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/creational/factorymethod">Factory Method</a>.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/creational/factorymethod.png" alt="factorymethod" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Payment payment = PaymentFactory.createPayment(PaymentType.CASH);

payment.doPayment(1000.50); // Salida: Paid with cash: 1000.50
</code></pre>
<p>El patrón generalmente es usado como un método estático.
Es muy útil para crear objetos rápidamente, o para crear objetos con distintos 
comportamientos pero en la misma familia.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="abstract-factory"><a class="header" href="#abstract-factory">Abstract Factory</a></h1>
<p>Crea objetos de diferentes familias de clases. Es un Factory para crear Factories.</p>
<p>En el ejemplo se necesita crear objetos gráficos como: Button, Panel, Windows, TextField, entre otros.
Debido a que se desea que la aplicación sea multiplataforma, se crean Factories para crear los objetos
gráficos dependiendo de la plataforma (Windows, Linux). Código <a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/creational/abstractfactory">Abstract Factory</a>.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/creational/abstractfactory.png" alt="abstractfactory" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">GuiFactory guiFactory = GuiFactorySelector.getFactory(OS.LINUX);

Button button = guiFactory.createButton(); // Botón que funcionará solo en linux
button.paint(); // Salida: Linux Button

Panel panel = guiFactory.createPanel(); // Panel que funcionará solo en linux
panel.paint(); // Salida: Linux Panel
</code></pre>
<p>Este patrón puede ser usado cuando una solución debe funcionar con diferentes variantes de una familia de objetos.
Abstrae al desarrollador de la creación de los objetos, y solo tiene la responsabilidad de crear objetos asociados entre sí.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="singleton"><a class="header" href="#singleton">Singleton</a></h1>
<p>Singleton es un patrón creacional que hace que exista solo una instancia para un tipo de dato.
Permite el acceso global a la instancia. Es usado cuando se necesita que compartir un recurso en todo la aplicación,
como por ejemplo la conexión a la base de datos. </p>
<p>En el ejemplo se presenta un uso común, el acceso a configuraciones en la aplicación.
Generalmente las configuraciones son compartidas, y se necesita acceder a ellas desde cualquier
punto de la aplicación, además es necesario que estas se actualizen para toda la aplicación por igual. Código <a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/creational/singleton">Singleton</a>.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/creational/singleton.png" alt="singleton" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Settings settings = Settings.getInstance();

settings.set(&quot;db.name&quot;, &quot;test&quot;);

System.out.println(Settings.getInstance().get(&quot;db.name&quot;)); // Se llama al método getInstance de nuevo. Salida: test
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="builder"><a class="header" href="#builder">Builder</a></h1>
<p>Permite producir diferentes tipos y representaciones de un objeto utilizando el mismo proceso de construcción. 
El builder permite construir objetos complejos paso a paso.
Ayuda a que el código sea más legible. Y evita usar constructores, los 
cuales afectan a muchas clases cuando se cambia su firma.
También encapsula lógica especifica de construcción del objeto,
abstrayendo al usuario de este conocimiento. Código <a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/creational/builder">Builder</a>.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/creational/builder.png" alt="builder" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Person person = Person.builder()
                .firstName(&quot;Nikola&quot;)
                .lastName(&quot;Tesla&quot;)
                .build();

System.out.println(person);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="prototype"><a class="header" href="#prototype">Prototype</a></h1>
<p>El prototipo es un patrón de diseño creacional 
que permite la clonación de objetos, incluso los más 
complejos, sin acoplarse a sus clases específicas.
Además, existen muchos objetos con atributos privados,
este patrón permite que se copien sin necesidad de acceder ellos.
El patrón Prototype está disponible en Java con una <code>Cloneable</code> interfaz.
Al clonar un objeto se debe tener cuidado de clonar sus atributos
que sean por referencia, ya que sino ambos clones apuntaran al mismo atributo. </p>
<p>En el ejemplo asumimos que existen formas (shapes) que se dibujan en un canvas, y se quiere
dar la funcionalidad de copiar y pegar. Se utiliza este patrón
para poder clonar un shape y que su clon tenga todos sus atributos. Código <a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/creational/prototype">Prototype</a>.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/creational/prototype.png" alt="prototype" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Square square = new Square();
square.setWidth(100);
square.setHeight(100);
square.setX(20);
square.setY(20);
square.setColor(Color.BLACK);

System.out.printf(&quot;Original object: %s, new object: %s\n&quot;, square, square.clone()); // Salida ejemplo: Original object: pattern.creational.prototype.Square@39a054a5, new object: pattern.creational.prototype.Square@71bc1ae4
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="patrones-de-comportamiento"><a class="header" href="#patrones-de-comportamiento">Patrones de Comportamiento</a></h1>
<p>Los patrones de diseño de comportamiento se ocupan de los algoritmos y la asignación de responsabilidades entre objetos.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pipeline"><a class="header" href="#pipeline">Pipeline</a></h1>
<p>Consiste en un procesamiento en cadena de un elemento, donde cada paso de la cadena
genera una salida que será la entrada del paso consecutivo. </p>
<p>En el ejemplo se necesita ejecutar varios procesos sobre un objeto String,
cada proceso tiene una única responsabilidad, como por ejemplo: remover caracteres
especiales o colocar en mayúsculas las letras. Se crea una clase principal (handler)
con la responsabilidad de ejecutar cada etapa en el orden asignado.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/behavioral/pipeline.png" alt="pipeline" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">StringProcessorHandler stringProcessorHandler = new StringProcessorHandler();

String processedString = stringProcessorHandler
                .add(new RemoveSpecialCharProcessor())
                .add(new ToUpperProcessor())
                .execute(&quot;This$ is an uncl@ean+ed phr#aSe&quot;);

System.out.println(processedString); // Salida: THIS IS AN UNCLEANED PHRASE
</code></pre>
<p>Este patrón es muy útil cuando se tiene la necesidad de procesar un objeto (o dato)
en un orden con una serie de etapas bien definidas. Además, se puede usar
cuando la salida de una etapa es necesaria como entrada para otra.
Un paso puede ser o no un requisito previo para otro paso.</p>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/behavioral/pipeline">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chain-of-responsibility"><a class="header" href="#chain-of-responsibility">Chain Of Responsibility</a></h1>
<p>Consiste en un procesamiento en cadena de un elemento, cada eslabón de la cadena se denomina controlador (handler).
Al recibir una solicitud, cada controlador decide procesar la solicitud o pasarla al siguiente controlador de la cadena.</p>
<p>En el ejemplo refleja de manera muy básica el funcionamiento de los interceptores en
un servidor web. Cada interceptor recibe la petición hecha, y la procesa según se responsabilidad.
Se incluyeron dos interceptores, para autorización y autenticación respectivamente. </p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/behavioral/chainofresponsibility.png" alt="chainofresponsibility" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">AuthorizationInterceptor authorizationInterceptor = new AuthorizationInterceptor();

AuthenticationInterceptor authenticationInterceptor = new AuthenticationInterceptor();
authenticationInterceptor.setNext(authorizationInterceptor);

Request request = new Request();
request.setHeaders(Map.of(&quot;Access-Token&quot;, &quot;123&quot;));
request.setUrl(&quot;http://myweb.com/forbidden&quot;);

authenticationInterceptor.intercept(request); // SALIDA: EXCEPTION
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/behavioral/chainofresponsibility">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="strategy"><a class="header" href="#strategy">Strategy</a></h1>
<p>Permite definir una familia de algoritmos, encapsular cada uno y hacerlos intercambiables. El patrón permite que el algoritmo varíe independientemente de los clientes que lo utilizan.</p>
<p>Es útil cuando se tienes un objeto que debería poder hacer la misma tarea de muchas maneras diferentes. 
Esas tareas se pueden descomponer en clases de una misma familia. </p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/behavioral/strategy.png" alt="strategy" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Compressor compressor = new Compressor();
compressor.setCompressionFormat(new ZipCompression());
	
compressor.compress(asList(new File(&quot;README.md&quot;))); // Salida: Compressing [README.md] with zip format
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/behavioral/strategy">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="memento"><a class="header" href="#memento">Memento</a></h1>
<p>Patrón de diseño de comportamiento que permite capturar el estado interno de un objeto sin exponer su estructura interna, para que el objeto pueda regresar a este estado más adelante.</p>
<p>Es útil cuando necesitas hacer instantáneas de algunos objetos para restaurar su estado más tarde.
Permite producir copias completas del estado de un objeto y almacenarlas por separado del objeto. </p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/behavioral/memento.png" alt="memento" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">History history = new History();
	
Console console = new Console();
	
console.setCommand(&quot;ls -la&quot;);
history.addSnapshot(console.generateSnapshot());
	
console.setCommand(&quot;cd ..&quot;);
history.addSnapshot(console.generateSnapshot());
	
console.restoreFromSnapshot(history.getSnapshot(0));
	
console.exec(); // Salida: Exec command: ls -la
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/behavioral/memento">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="observer"><a class="header" href="#observer">Observer</a></h1>
<p>Observer es un patrón de diseño de comportamiento que permite definir
un mecanismo de suscripción para notificar a varios objetos
sobre cualquier evento que ocurra al objeto que están observando.</p>
<p>Es un patrón muy utilizado en las interfaces gráficas.</p>
<p>En el ejemplo cuando se hace clic en un botón se notifica a los observadores
'guardar archivo' y 'mostrar mensaje'. </p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/behavioral/observer.png" alt="observer" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Button button = new Button();
button.addListener(new SaveFileListener());
button.addListener(new ShowMessageListener());
button.click(); // Se notificará a los observers
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/behavioral/observer">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="visitor"><a class="header" href="#visitor">Visitor</a></h1>
<p>Este patrón permite separar nuevos algoritmos o capacidades de los objetos en los que operan.</p>
<p>Es utilizado cuando es necesario agregar nuevas capacidades a objetos ya existentes,
sin agregar más complejidad a estos (o más líneas de código), sino moviendo dicha complejidad a otras clases.
También es utilizado cuando las nuevas operaciones a agregar no corresponden al dominio
a la clase original, ya que agregaría responsabilidades que no debería tener (principio de responsabilidad única).</p>
<p>Puede existir diferentes visitantes, uno para cada nueva capacidad que se desee agregar.</p>
<p>En el ejemplo es necesario agregar más lógica para exportar cada elemento,
su utiliza visitadores con la capacidad de exportar en diferentes formatos. </p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/behavioral/visitor.png" alt="visitor" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Document document = new Document();
document.addElement(new Header());
document.addElement(new Body());

JsonExporter jsonExporter = new JsonExporter();
System.out.println(jsonExporter.export(document));

XmlExporter xmlExporter = new XmlExporter();
System.out.println(xmlExporter.export(document));
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/behavioral/visitor">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="template-method"><a class="header" href="#template-method">Template Method</a></h1>
<p>El Método de plantilla es un patrón de diseño de 
comportamiento que define el esqueleto de un algoritmo en la superclase, 
pero permite que las subclases sobrescriban los pasos específicos 
del algoritmo sin cambiar su estructura.</p>
<p>En el ejemplo un objeto animatable sobrescribe solamente 'animate' y 'paint'.
El objeto cliente (Game) no llama directamente los métodos plantillas (pasos específicos),
sino que invoca 'updateFrame' (el Template Method). </p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/behavioral/templatemethod.png" alt="templatemethod" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">/**
 * Un objeto 2D.
 */
public abstract class Animatable {
    private int x;
    private int y;

    public int getX() {
        return x;
    }

    public void setX(int x) {
        this.x = x;
    }

    public int getY() {
        return y;
    }

    public void setY(int y) {
        this.y = y;
    }

    /**
     * Este es el &quot;Template Method&quot;.
     * Puede ser final para que no se herede.
     */
    public void updateFrame() {
        animate();
        paint();
    }

    public abstract void animate();

    public abstract void paint();
}
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/behavioral/templatemethod">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state"><a class="header" href="#state">State</a></h1>
<p>Este patrón permite separar es útil cuando se tiene un problema de máquina de estado finito,
y queremos separar la lógica de control de los estados (flujos de acciones) de 
las responsabilidades inherentes a la clase.
Permite que un objeto altere su comportamiento cuando cambia su estado interno. </p>
<p>Este patrón evita el código espagueti, separando la lógica de los estados a clases externas,
además de evitar el uso de if anidados o switch.</p>
<p>En el ejemplo una clase servidor cambia a diferentes estados según acciones (o eventos),
estas invocan al estado actual para que dirija el flujo hacia otras acciones y estados.
Por ejemplo: el servidor inicia con estado 'cerrado', al invocar la acción iniciar cambia al estado 'escuchando'.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/behavioral/state.png" alt="state" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Server server = new Server();
server.start();
server.connect();
server.disconnect();
server.stop();
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/behavioral/state">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mediator"><a class="header" href="#mediator">Mediator</a></h1>
<p>El patrón mediador permite reducir las dependencias caóticas entre los objetos.
El patrón restringe las comunicaciones directas entre los objetos 
y los obliga a colaborar sólo a través de un objeto mediador.</p>
<p>El mediador concentra el flujo de invocaciones de acciones y eventos.
Evita altas dependencias entre clases y código repetido.
El mediador conoce todos los objetos que desean comunicarse entre si.
Es especialmente utilizado para objetos heterogéneos (no es necesario que los colegas/colaboradores sean de la misma familia).
La responsabilidad del mediador tiene como alcance solamente dirigir el flujo de acciones entre objetos
más no directamente realizar las acciones por el mismo.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/behavioral/mediator.png" alt="mediator" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">public class GuiController implements Mediator {
    private FileTree fileTree;
    private TextEditor textEditor;
    private SpellChecker spellChecker;

    @Override
    public void register(FileTree fileTree) {
        this.fileTree = fileTree;
    }

    @Override
    public void register(SpellChecker spellChecker) {
        this.spellChecker = spellChecker;
    }

    @Override
    public void register(TextEditor textEditor) {
        this.textEditor = textEditor;
    }

    @Override
    public void notifyFileSelected(File file) {
        textEditor.loadFile(file);
    }

    @Override
    public void notifyTextChange(String newText) {
        spellChecker.check(newText);
    }

    @Override
    public void notifySpellingSuccess() {
        fileTree.highlightSuccess();
    }

    @Override
    public void notifySpellingError() {
        fileTree.highlightError();
    }
}
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/behavioral/mediator">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iterator"><a class="header" href="#iterator">Iterator</a></h1>
<p>Iterator es un patrón de diseño de comportamiento que 
permite acceder a los elementos de una colección sin 
exponer su representación subyacente (lista, pila, árbol, etc.),
o la lógica de búsqueda.</p>
<p>Es extensamente usado en java y en bibliotecas como JDBC. </p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/behavioral/iterator.png" alt="iterator" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Twitter twitter = new Twitter();
PostsIterator postsIterator = twitter.findPostsByHashtag(&quot;#java&quot;);

while (postsIterator.hasNext()){
    Post post = postsIterator.getNext();
    System.out.println(post.getContent());
}
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/behavioral/iterator">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command"><a class="header" href="#command">Command</a></h1>
<p>Este patrón convierte una solicitud/acción en un objeto independiente 
que contiene toda la información sobre esta. 
Esta transformación le permite parametrizar métodos con diferentes solicitudes, 
poner en cola la ejecución de una solicitud 
y respaldar operaciones que no se pueden deshacer.
Este patrón se puede completar con el patrón memento para almacenar el histórico de 
estados.</p>
<p>También es muy útil para encapsular la lógica de una operación y reducir 
la dependencia con los objetos que las ejecutan (receptores).</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/behavioral/command.png" alt="command" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">IDE ide= new IDE();

ide.getEditor().setText(&quot;Hola mundo!&quot;);
ide.getEditor().setSelectedText(&quot;mundo&quot;);

ide.clickOnCopyButton(); // Invoca el comando desde un evento de ratón
ide.shortcutPasteButton(); // Invoca el comando desde un evento de teclado
System.out.println(ide.getEditor().getText());

ide.clickOnUndo();
System.out.println(ide.getEditor().getText()); // Muestra el texto original
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/behavioral/command">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="patrones-estructurales"><a class="header" href="#patrones-estructurales">Patrones Estructurales</a></h1>
<p>Los patrones de diseño estructural explican cómo ensamblar objetos y clases en estructuras más grandes, manteniendo estas estructuras flexibles y eficientes.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="adapter"><a class="header" href="#adapter">Adapter</a></h1>
<p>Un adaptador envuelve (wraps) la lógica de un objeto, la cual no puede ser
alcanzada debido a interfaces incompatibles.</p>
<p>Es muy util cuando se quiere incluir una clase de terceros
a nuestra base de código pero, esta usa o retorna tipos de objetos no
compatibles con nuestra aplicación. Es necesario que el adaptador pertenezca (herede)
de una familia de clases.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/structural/adapter.png" alt="adapter" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Fahrenheit fahrenheit = new Fahrenheit(98.6);

List&lt;MetricTemperatureSystem&gt; temperatureList = Arrays.asList(
    new Celsius(37),
    new CelsiusAdapter(fahrenheit)
);

System.out.println(fahrenheit); // Salida: 98.6° F
System.out.println(temperatureList); // Salida: [37.0° C, 37.0° C]
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/structural/adapter">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bridge"><a class="header" href="#bridge">Bridge</a></h1>
<p>Bridge es un patrón de diseño estructural que permite dividir una clase grande (o conjunto de clases) en dos jerarquías separadas 
(abstracción e implementación) que pueden desarrollarse independientemente una de la otra.</p>
<p>Se usa cuando un conjunto de clases que heredan del mismo padre crece en gran número
debido a que cada nuevo hijo debe combinar diferentes comportamientos (varias versiones del mismo).
Un ejemplo común son las formas y colores, si tenemos dos formas (cuadrado y circulo) y dos colores
(azul y rojo) entonces las combinaciones posibles son 4, a medida que vamos introduciendo formas o colores
las combinaciones crecerán mucho más. Por tanto, se separa parte de la lógica en otro conjunto de clases.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/structural/bridge.png" alt="bridge" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">InfoLogger infoLogger = new InfoLogger(new TerminalLoggerOutput());
infoLogger.log(&quot;message&quot;); // Salida: INFO: message

ErrorLogger errorLogger = new ErrorLogger(new FileLoggerOutput(&quot;error.log&quot;));
errorLogger.log(&quot;message&quot;); // Salida: File: error.log ERROR: message
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/structural/bridge">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="composite"><a class="header" href="#composite">Composite</a></h1>
<p>Es un patrón de diseño estructural que le permite componer objetos en estructuras de árbol. 
Se usa en estructuras que necesitan composición anidada o recursiva. Un ejemplo puede ser la creación de interfaces
gráficas. </p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/structural/composite.png" alt="composite" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Window window = new Window(&quot;Main Window&quot;);

Panel firstPanel = new Panel(&quot;First Panel&quot;);
firstPanel.add(new Label(&quot;Label in First Panel&quot;));
window.add(firstPanel);

Panel secondPanel = new Panel(&quot;Second Panel&quot;);
secondPanel.add(new Label(&quot;Label in Second Panel&quot;));
window.add(secondPanel);

window.draw();
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/structural/composite">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="decorator"><a class="header" href="#decorator">Decorator</a></h1>
<p>Decorator es un patrón que permite agregar nuevos comportamientos 
a los objetos al colocarlos dentro de otros objetos envoltorios (wrappers) especiales.</p>
<p>El patrón <a href="structural/decorator.html#adapter">adapter</a> cambia la interfaz de un objeto existente, 
mientras que el decorator mejora un objeto sin cambiar su interfaz. 
Además, admite la composición recursiva, 
que no es posible cuando se usa el adapter.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/structural/decorator.png" alt="decorator" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">ConsoleDataSource consoleDataSource = new ConsoleDataSource();
String data = consoleDataSource.readData();
consoleDataSource.writeData(data);

EncryptionDecorator encryptionDecorator = new EncryptionDecorator(consoleDataSource);
encryptionDecorator.writeData(data);
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/structural/decorator">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="facade"><a class="header" href="#facade">Facade</a></h1>
<p>Facade es un patrón de diseño estructural que proporciona una interfaz 
simplificada para una biblioteca, un framework o cualquier otro 
conjunto complejo de clases (subsistema). </p>
<p>Permite separar y reemplazar de manera sencilla diferentes subsistemas. 
Disminuye el acoplamiento y dependencia de un conjunto de clases hacia otro.</p>
<p>En el ejemplo el cliente no necesita saber nada sobre la implementación del subsistema,
excepto la inicialización de la clase controladora para la base de datos requerida.
El cliente simplemente interactúa con las interfaces de la fachada en lugar de clases
específicas de la base de datos.
DriverManager actúa como una fachada para el subsistema subyacente.</p>
<p>Entre los ejemplos más conocidos tenemos JDBC y SLF4J.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/structural/facade.png" alt="facade" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Class.forName(&quot;pattern.structural.facade.oracle.OracleJDBCDriver&quot;);
Connection connection = DriverManager.getConnection(&quot;oracle&quot;);
Statement statement = connection.createStatement();
statement.executeQuery(&quot;select * from employee&quot;);

Class.forName(&quot;pattern.structural.facade.mysql.MySQLJDBCDriver&quot;);
connection = DriverManager.getConnection(&quot;mysql&quot;);
statement = connection.createStatement();
statement.executeQuery(&quot;select * from employee&quot;);
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/structural/facade">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proxy"><a class="header" href="#proxy">Proxy</a></h1>
<p>El proxy es un patrón de diseño estructural que permite 
proporcionar un sustituto para otro objeto. 
Un proxy controla el acceso al objeto original, 
lo que le permite realizar algo antes o después de que 
la solicitud llegue al objeto original.</p>
<p>Algunas diferencias con el patrón <a href="structural/proxy.html#decorator">decorator</a> son:</p>
<ul>
<li>El decorator obtiene la referencia del objeto decorado (generalmente a través del constructor), mientras que proxy es responsable de hacerlo solo.</li>
<li>Los proxy generalmente son utilizados por los frameworks para agregar seguridad o almacenamiento en caché.</li>
<li>El decorator usualmente se usa para agregar un nuevo comportamiento a las clases antiguas o heredadas.</li>
</ul>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/structural/proxy.png" alt="proxy" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">Internet internet = new ProxyInternet();
try {
    internet.connectTo(&quot;google.com&quot;);
    internet.connectTo(&quot;forbidden.com&quot;);
} catch (Exception e) {
    System.out.println(e.getMessage());
}
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/structural/proxy">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="flyweight"><a class="header" href="#flyweight">Flyweight</a></h1>
<p>Flyweight es un patrón que permite optimizar el uso
de la RAM al compartir partes comunes de estado entre 
múltiples objetos en lugar de mantener todos los datos en cada objeto.</p>
<p>Sólo se separa la parte del objeto que pueden ser compartida entre otros objetos.</p>
<p><img src="https://raw.githubusercontent.com/sauljabin/java-design-patterns/main/plantuml/structural/flyweight.png" alt="flyweight" /></p>
<p>Ejemplo de uso:</p>
<pre><code class="language-java">TreeType type = TreeTypeFactory.getTreeType(&quot;Autumn Oak&quot;, Color.YELLOW);
Tree tree1 = new Tree(10, 10, type);
Tree tree2 = new Tree(20, 20, type);

tree1.draw();
tree2.draw();
</code></pre>
<blockquote>
<p><a href="https://github.com/sauljabin/java-design-patterns/tree/main/src/main/java/pattern/structural/flyweight">Código</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="acerca-de-este-libro"><a class="header" href="#acerca-de-este-libro">Acerca de este Libro</a></h1>
<p>Este libro utiliza <a href="https://rust-lang.github.io/mdBook/index.html">mdBook</a> y <a href="https://plantuml.com/">PlantUML</a>.</p>
<h2 id="comandos-de-desarrollo"><a class="header" href="#comandos-de-desarrollo">Comandos de Desarrollo</a></h2>
<blockquote>
<p>Debes tener instalado <a href="https://www.rust-lang.org/tools/install">rust</a> y <a href="https://plantuml.com/">PlantUML</a> primero.</p>
</blockquote>
<p>Instalar <code>mdbook</code>:</p>
<pre><code class="language-bash">cargo install mdbook
</code></pre>
<p>Correr servidor local:</p>
<pre><code class="language-bash">mdbook serve --open
</code></pre>
<p>Compilar libro:</p>
<pre><code class="language-bash">mdbook build
</code></pre>
<p>Correr pruebas:</p>
<pre><code class="language-bash">./gradlew test
</code></pre>
<p>Compilar imagenes UML:</p>
<pre><code class="language-bash">cd plantuml &amp;&amp; plantuml */*.puml
</code></pre>
<h2 id="con-docker"><a class="header" href="#con-docker">Con Docker</a></h2>
<p>Crear la imagen de docker:</p>
<pre><code class="language-bash">docker build -t sauljabin/java-design-patterns:latest -f docker/Dockerfile .
</code></pre>
<p>Correr libro (<a href="http://localhost">abrir en el navegador</a>):</p>
<pre><code class="language-bash">docker run --name java-design-patterns -d -p 80:80 sauljabin/java-design-patterns:latest
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
